"use strict";function scrollDirection(){var t=0;$(window).on("scroll",function(){var e=$(this).scrollTop();e<t?($("body").removeClass("hidden"),$("body").addClass("scrolledUp"),$("body").removeClass("scrolledDown")):($("body").removeClass("scrolledUp"),$("body").addClass("scrolledDown")),t=e})}function goToSection__scroll(e,t,s,o,n){var i=$(window).scrollTop(),r=$(e).offset().top;r<i?setTimeout(function(){$("html, body").animate({scrollTop:r-t},o)},n):setTimeout(function(){$("html, body").animate({scrollTop:r-s},o)},n)}function stickyPosition(e,t,s){var o=$(e),e=$(".l-nav");!e.hasClass("is-scrolled")||e.hasClass("is-hidden")?o.css("top",t):o.css("top",s)}$(document).on("click",".c-toggleList__header",function(){$(this).parent().toggleClass("is-active")});var removeGridClass=function(e){for(var t=1;t<=12;t++)e.classList.remove("--col"+t);e.classList.remove("--colNaN")},initResponsiveGrids=function(){cResponsiveGrid.forEach(function(e,t){e.classList.add("js-responsiveGrid");var s={maxwBreaks:e.getAttribute("data-maxw-breaks").split(", ").map(Number),maxwCols:e.getAttribute("data-maxw-cols").split(", ").map(Number),initCols:parseInt(e.getAttribute("data-cols-init")),windowW:window.innerWidth},o=s.maxwBreaks.length;if(o===s.maxwCols.length)for(var n=0;n<=o;n++)s.maxwBreaks[n]>=s.windowW&&(removeGridClass(e),e.classList.add("--col"+s.maxwCols[n])),s.windowW>s.maxwBreaks[0]&&(removeGridClass(e),e.classList.add("--col"+s.initCols));else console.log("Erro na construção do grid responsivo")})},cResponsiveGrid=document.querySelectorAll(".c-responsiveGrid");window.addEventListener("load",initResponsiveGrids),window.addEventListener("resize",initResponsiveGrids);var openSubMenu,closeSubMenuReference,cSmartMenu=document.querySelectorAll(".c-smartMenu"),activeClass="is-active";cSmartMenu&&(cSmartMenu.forEach(function(e){e.classList.add("js-smartMenu"),Array.from(e.children[0].children).forEach(function(e){e.classList.add("js-smartMenu__firstSub")}),document.querySelectorAll(".c-smartMenu li").forEach(function(e){e.children[1]&&(e.classList.add("js-smartMenu__li"),e.children[0].classList.add("js-smartMenu__toggle"),e.children[1].classList.add("js-smartMenu__subMenu"))})}),(openSubMenu=document.querySelectorAll(".js-smartMenu__toggle")).forEach(function(t){t.closest(".c-smartMenu").classList.contains("--click")?t.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle(activeClass),t.parentElement.classList.toggle(activeClass),t.nextElementSibling.classList.toggle(activeClass)}):t.addEventListener("mouseenter",function(e){e.preventDefault(),t.classList.toggle(activeClass),t.parentElement.classList.toggle(activeClass),t.nextElementSibling.classList.toggle(activeClass)})}),(closeSubMenuReference=document.querySelectorAll(".js-smartMenu__firstSub")).forEach(function(e){e.parentElement.parentElement.classList.contains("--vertical")||e.addEventListener("mouseleave",function(){cSmartMenu.forEach(function(e){e.classList.remove(activeClass),e.querySelectorAll("*").forEach(function(e){e.classList.remove(activeClass)})})})}));var checkBottomAnimation=function(){!$(".e-product-bar").length||$(".e-product-bar").hasClass("e-hide-bar")?$(".c-animationCarnaval").removeClass("js-productBarActive"):$(".c-animationCarnaval").addClass("js-productBarActive")};$(window).on("scroll load",function(){checkBottomAnimation()});for(var promotionDate,elementDays,elementHours,elementMinutes,elementSeconds,animateButton=function(e){e.preventDefault,e.target.classList.remove("animate"),e.target.classList.add("animate"),setTimeout(function(){e.target.classList.remove("animate")},700)},bubblyButtons=document.getElementsByClassName("c-animationButtonFeatured"),i=0;i<bubblyButtons.length;i++)bubblyButtons[i].addEventListener("mouseenter",animateButton,!1);function makeCount(e,t,s,o,n){var i=new Date,i=Date.parse(e)-i.getTime(),i={days:Math.floor(i/864e5),hours:Math.floor(i/36e5)%24,minutes:Math.floor(i/6e4)%60,seconds:Math.floor(i/1e3)%60};return t.innerHTML=i.days<10?"0"+i.days:i.days,s.innerHTML=i.hours<10?"0"+i.hours:i.hours,o.innerHTML=i.minutes<10?"0"+i.minutes:i.minutes,n.innerHTML=i.seconds<10?"0"+i.seconds:i.seconds,i.days<0&&i.hours<0&&i.minutes<0&&i.seconds<0&&($(".c-countdown__hero").hide(),$(".c-countdown__end").show(),setTimeout(function(){window.location.href="https://www.leonorashop.com.br"},5e3)),i}document.querySelector(".c-count")&&(promotionDate=document.querySelector(".js-count").getAttribute("data-count"),elementDays=document.querySelector(".js-count .--days"),elementHours=document.querySelector(".js-count .--hours"),elementMinutes=document.querySelector(".js-count .--minutes"),elementSeconds=document.querySelector(".js-count .--seconds"),makeCount(promotionDate,elementDays,elementHours,elementMinutes,elementSeconds),setInterval(function(){makeCount(promotionDate,elementDays,elementHours,elementMinutes,elementSeconds)},1e3));var getCartFinalPrice=function(){var e=$(".minicart-resume__total-price-target").text().toLowerCase().replace("r$ ","");return parseFloat(e)},getPercentualDiff=function(e,t){return Math.floor(t/e*100)},setPercentualBar=function(e){e+="%";transportRuler__el.find(".c-transportRuler__percent").width(e)},setWarns=function(){$(".js-transportRuler__minPrice").text(transportRuler__promotionInfos.minPrice.toFixed(2).replace(".",","))},initRuler=function(){transportRuler__el.removeClass("u-dnone"),setPercentualBar(transportRuler__percentualDiff),setWarns(),100<transportRuler__percentualDiff?$(".js-transportRuler__percentCaption").text("100%"):$(".js-transportRuler__percentCaption").text(transportRuler__percentualDiff.toFixed(0)+"%")},refreshRuler=function(){var e=getCartFinalPrice(),e=getPercentualDiff(transportRuler__promotionInfos.minPrice,e);setPercentualBar(e),100<e?$(".js-transportRuler__percentCaption").text("100%"):$(".js-transportRuler__percentCaption").text(e.toFixed(0)+"%")},getCoordinates=function(){navigator.geolocation.getCurrentPosition(function(e){var t="https://nominatim.openstreetmap.org/reverse?lat="+e.coords.latitude+"&lon="+e.coords.longitude+"&format=json&json_callback=transportRuler",e=document.createElement("script");e.src=t,document.body.appendChild(e)})},transportRuler=function(e){var s=Number(e.address.postcode.replace("-",""));console.log(s),transportRuler__promotionInfos.cepRanges.forEach(function(e){var t=Number(e.init),e=Number(e.end);t<=s&&s<=e&&initRuler()})},setIntervalMinicartRefresh=function(){$(".minicart").hasClass("minicart--open")&&refreshRuler()},transportRuler__promotionInfos={active:!0,minPrice:249.9,cepRanges:[{init:"80000000",end:"87999999"},{init:"88000000",end:"89999999"},{init:"90000000",end:"99999999"},{init:"01000000",end:"19999999"},{init:"20000000",end:"28999999"},{init:"29000000",end:"29999999"},{init:"30000000",end:"39999999"}]},transportRuler__el=$(".c-transportRuler"),transportRuler__finalPrice=getCartFinalPrice(),transportRuler__percentualDiff=getPercentualDiff(transportRuler__promotionInfos.minPrice,transportRuler__finalPrice);$(window).on("load",function(){transportRuler__promotionInfos.active?getCoordinates():transportRuler__el.remove()}),$(document).on("click",function(e){transportRuler__el.length&&transportRuler__promotionInfos.active&&refreshRuler()}),$(".minicart-control").on("click",function(){transportRuler__el.length&&transportRuler__promotionInfos.active&&(setTimeout(function(){refreshRuler()},2e3),setTimeout(function(){refreshRuler()},2500),setTimeout(function(){refreshRuler()},3e3))}),setInterval(setIntervalMinicartRefresh,1500),setTimeout(function(){var e=document.querySelector(".product-buy-qtd"),t=document.querySelector(".e-product-bar");t&&"display: none;"===e.getAttribute("style")&&(t.classList.add("e-hide-bar"),t.remove())},600);var fixPercentFlags=function(){$(".shelf-item").each(function(e){var t=$(this).find(".shelf-item__list-price"),s=$(this).find(".shelf-item__best-price"),o=$(this).find(".flag-percentage--active");t.length&&(t=(100*((t=parseFloat(t.text().replace(",",".").split("R$ ")[1]))-parseFloat(s.text().replace(",",".").split("R$ ")[1]))/t).toFixed(0),o.html(t+"% <br> OFF")),"0%<br>OFF"===o.html()?(o.hide(),o.closest(".shelf-item").addClass("flag-zero-percent"),o.addClass("js-is-hide")):o.closest(".shelf-item").addClass("flag-with-percent")})};$(document).on("click",function(){fixPercentFlags()}),$(window).on("load",function(){setTimeout(function(){fixPercentFlags()},1500),fixPercentFlags()});var changeBg=function(e){$("body").addClass("laures__headerSearch"),$(".search-banner").append('<img src="arquivos/'+e+'"/>'),$(".search-result.tituloColecao").remove(),setTimeout(function(){$(".search-result.tituloColecao").remove()},500)};$(window).on("load",function(){var e;$("body").hasClass("search")&&(e=$(".search-result.tituloColecao").text().toLowerCase(),console.log("1 search-banner.js => "+e),"soul-garden"===e?changeBg("banner_bgSearchHeader_soulGarden.jpg"):"positive-vibes"===e?changeBg("b2c_banner_positive-vibes.jpg"):"new-office"===e?changeBg("b2c_banner_new-office.jpg"):"promocao-good-vibes"===e&&changeBg("b2c_banner_goodVibes.jpg"))}),$(".js-slickFeaturedCategories").slick({infinite:!0,slidesToShow:10,slidesToScroll:2,arrows:!0,dots:!1,autoplay:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:8,dots:!0}},{breakpoint:840,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:510,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:440,settings:{slidesToShow:3,slidesToScroll:1}}]}),$(".s-sliderFeaturedCategories .box-banner img").each(function(){var e=$(this).attr("alt");$(this).closest("a").append("<span>"+e+"</span>")}),$(".product-info").length&&$(".product-info .product-buy .buy-button").text("Adicionar a sacola");var activeFirst=function(){mainShelf.each(function(e){0===e&&$(this).addClass("is-active")})},showFirstsCards=function(t){mainShelf.each(function(e){$(this).hasClass("is-active")&&$(this).children("ul").each(function(e){e<t&&$(this).addClass("is-active")})})},showMoreCards=function(t){$(".l-landPage__collections__content .main-shelf.is-active ul:not(.is-active)").each(function(e){e<t&&$(this).addClass("is-active")})},toggleGrid=function(t){$(".l-landPage__collections .main-shelf > h2").each(function(){var e=$(this).text();console.log(e),e===t&&$(this).closest(".main-shelf").addClass("is-active")})},toggleBtnMoreView=function(e){var t=0,s=e.length;e.each(function(){$(this).hasClass("is-active")&&(t+=1)}),8===s||s===t?$(".js-showMoreProducts").hide():$(".js-showMoreProducts").show()};$(".l-landPage__banner").each(function(){var t=0;$(this).children(".box-banner").each(function(e){t=e}),0<t&&$(this).slick({arrows:!1,dots:!0})}),$(".js-goToSection").on("click",function(e){e.preventDefault(),goToSection__scroll($(this).attr("href"),100,100,700,10)});var mainShelf=$(".l-landPage__collections__content .main-shelf");activeFirst(),showFirstsCards(8),$(".js-showMoreProducts").on("click",function(e){e.preventDefault(),showMoreCards(8),toggleBtnMoreView($(this).closest(".l-landPage__collections__content").find(".main-shelf.is-active").find("ul"))}),$(".js-goToCollection").on("click",function(e){e.preventDefault(),$(".js-goToCollection").removeClass("is-active"),$(this).addClass("is-active");e=$(this).attr("href").split("#")[1];console.log(e),mainShelf.removeClass("is-active"),toggleGrid(e),mainShelf.children("ul").removeClass("is-active"),showFirstsCards(8),toggleBtnMoreView($(this).closest(".l-landPage__collections__hero").find(".main-shelf.is-active").find("ul"))}),$(".js-showMoreProducts").on("click",function(){$(".l-landPage").hasClass("--domBosco")&&$(".js-allProducts").hasClass("is-active")&&$(".main-shelf.is-active").find("ul").each(function(){$(this).hasClass("is-active")?$(".js-btnAllProducts").removeClass("u-dnone"):$(".js-btnAllProducts").addClass("u-dnone")})});var elementVitrines=$(".l-landPage__features a");elementVitrines.on("click",function(e){e.preventDefault();goToSection__scroll("#colecoes",100,100,700,10);e=$(this).attr("href");$(".js-goToCollection").removeClass("is-active");e=$(".js-goToCollection[href="+e+"]");e.addClass("is-active"),e.click()}),$(document).ready(function(){$(".js-s-letron__slickShelve .main-shelf > h2").remove(),$(".js-s-letron__slickShelve .main-shelf").slick({arrows:!0,dots:!1,slidesToShow:5,slidesToScroll:2,responsive:[{breakpoint:1120,settings:{slidesToShow:4,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:700,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:460,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".js-s-letron__videos").slick({arrows:!0,dots:!1,slidesToShow:1,slidesToScroll:1}),$(".js-l-headerLetron__slickProducts").slick({arrows:!1,dots:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0}),$(".js-linkScroll").on("click",function(e){e.preventDefault(),goToSection__scroll($(this).attr("href"),200,200,700,10)})});